# Skill Install Specification (v1)

## Scope

- Supported sources:
  - Local path (`kind: "local"`)
  - Public GitHub repository tarball (`kind: "github"`)
- Unsupported in v1:
  - Private repositories
  - GitHub personal access token auth
  - Subdirectory install targets
  - Zip URL install via API

## API Contract

- Route: `POST /api/skills/install`
- Request body:
  - `source.kind`: `"local" | "github"`
  - `source.ref`: string
- Response body:
  - `ok: true`
  - `skill`: normalized installed skill metadata

## Local Path Install

- `source.ref` must be an absolute filesystem path.
- Path must exist and be a directory.
- Connector copies directory into managed destination:
  - `~/.lobester/skills/<skillId>`

## GitHub Install

- Accepted format: `owner/repo[#ref]`
- `#ref` is optional; if omitted, GitHub default branch is used.
- Download URL:
  - `https://codeload.github.com/<owner>/<repo>/tar.gz/<ref-or-HEAD>`
- Extract the archive to a temp location and install repo root contents.

## Metadata Resolution

- Read `lobester.json` from installed root if present.
- Supported fields:
  - `name`
  - `openclawKey`
  - `version`
- Fallbacks when missing:
  - `name`: repository/folder basename
  - `openclawKey`: slug of `name`
  - `version`: omitted

## IDs and Paths

- `skill.id` generated by connector (nanoid).
- `skill.localPath` points to the managed installed location.
- Connector never mutates source repository/path in place.

## Errors

- All install failures return `ApiError`:
  - invalid ref format
  - missing path
  - non-directory path
  - download/extract failure
  - invalid archive layout
  - write failures



